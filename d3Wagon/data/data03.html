<!DOCTYPE html>
<meta charset="utf-8">

<head>

	<script type="text/javascript" src="../src/d3.js"></script>

<style>


</style>

</head>

<body>

	<script type="text/javascript">

d3.csv("sets/lyceeFR.csv",function(csv) {

    var pr = d3.mean(csv,function(d, i) { if(d.type === "PR"){return parseFloat(d.success);}});
    var pu = d3.mean(csv,function(d, i) { if(d.type === "PU"){return parseFloat(d.success);}});
var maxEffectif = d3.max(csv,function(d, i) { return parseFloat(d.effectif);}),
    mean = d3.mean(csv, function(d) { return parseFloat(d.success);}),
    minEffectif = d3.min(csv,function(d, i) {return parseFloat(d.effectif);});

    console.log("pr",pr);
    console.log("pu",pu);

var nestpu = d3.nest()
    .key(function(d) { return d.type; })
    .rollup(function(d){console.log(d);})
    .entries(csv);

    console.log(nestpu);
console.log("max effectif : " + maxEffectif);

console.log("min effectif : " + minEffectif);
console.log("mean effectif : " + mean);

});

	</script>

</body>
